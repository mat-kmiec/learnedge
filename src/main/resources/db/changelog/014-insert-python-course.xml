<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="
        http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.23.xsd">

    <changeSet id="insert-python-lesson-3" author="martyna">

        <insert tableName="lessons">
            <column name="id" valueNumeric="2003"/>
            <column name="title" value="PÄ™tle w Pythonie â€“ while i for"/>
            <column name="lesson_order" valueNumeric="3"/>
            <column name="slug" value="petle-while-for"/>
            <column name="course_id" valueNumeric="1001"/>

            <column name="content"><![CDATA[

<!-- WPROWADZENIE -->
<div data-learning="0">
    <h2 class="course-section-title">PÄ™tle i iteracje w Pythonie â€” while i for</h2>

    <div class="course-text-block mt-3">
        <h5 class="course-text-title"><i class="bi bi-arrow-repeat"></i> Czego nauczysz siÄ™ w tej lekcji?</h5>
        <div class="course-text-content">
            <p>PÄ™tle pozwalajÄ… automatycznie wykonywaÄ‡ kod wiele razy. DziÄ™ki nim nie musisz powtarzaÄ‡ tych samych instrukcji â€”
            Python zrobi to za Ciebie!</p>
            <p>Poznasz dwie najczÄ™Å›ciej uÅ¼ywane pÄ™tle: <strong>while</strong> oraz <strong>for</strong>.</p>
        </div>
    </div>
</div>

<!-- ğŸ§ DLA SÅUCHOWCA -->
<div data-learning="1">
   <h4 class="mt-4"> KrÃ³tkie omÃ³wienie pÄ™tli while.</h4>
    <div class="course-audio-container mt-4">
        <audio controls src="/audio/whilepythonomowieniesluch.m4a"></audio>
    </div>
    <hr>
    <div class="course-fact">
        <p>Niezwykle waÅ¼ne w pÄ™tli while jest odpowiednie sformuÅ‚owanie warunku stopu, aby uchroniÄ‡
         program przed wpadniÄ™ciem do nieskoÅ„czonej pÄ™tli, na przykÅ‚ad:
         <pre style="background:#013642; color:#e0f7ff; padding:12px; border-radius:10px;">
    i = 0
    while i &lt; 5:
        print(i)
        i = i + 1
            </pre>
         </p>
    </div>

    <h4 class="mt-4">WysÅ‚uchaj jak dziaÅ‚ajÄ… iteracje w pÄ™tli for.</h4>
    <div class="course-video-container mt-2">
        <video controls style="width:100%; height:100%; object-fit:contain; background:#000;">
            <source src="/video/forsluchpythonvideo.mp4" type="video/mp4">
        </video>
    </div>
    <hr>
    <div class="course-fact">
        <p>Iterujemy, czyli przechodzimy po kolejnych elementach kolekcji czy teÅ¼ sekwencji
        elementÃ³w, co determinuje iloÅ›Ä‡ obiegÃ³w pÄ™tli for i czyni jÄ… bezpieczniejszÄ… pod kÄ…tem
        nieskoÅ„czonego wykonania.</p>
    </div>
</div>

<!-- ğŸ‘€ DLA WZROKOWCA -->
<div data-learning="2">
    <h4 class="mt-3">PorÃ³wnanie pÄ™tli while i for</h4>

    <div style="display:flex; gap:25px; justify-content:center; align-items:flex-start; flex-wrap:wrap; margin-top:25px;">

        <!-- Obrazek while -->
        <div class="course-image-container small-img-container">
            <img class="course-image" src="/img/whilepython.png" alt="PÄ™tla while w Pythonie">
        </div>

        <!-- Obrazek for -->
        <div class="course-image-container small-img-container">
            <img class="course-image" src="/img/forpython.png" alt="PÄ™tla for w Pythonie">
        </div>

    </div>

    <h4 class="mt-4"> WartoÅ›Ä‡ warunkÃ³w stopu w pÄ™tlach while.</h4>
    <div class="course-video-container mt-2">
        <video controls style="width:100%; height:100%; object-fit:contain; background:#000;">
            <source src="/video/whilepythonvid2.mp4" type="video/mp4">
        </video>
    </div>

    <div class="course-text-block mt-3">
        <table class="course-table">
            <thead>
                <tr>
                    <th>Cecha</th>
                    <th>PÄ™tla <code>for</code></th>
                    <th>PÄ™tla <code>while</code></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Kiedy uÅ¼ywaÄ‡?</td>
                    <td>Gdy znasz liczbÄ™ iteracji lub chcesz przejÅ›Ä‡ po elementach sekwencji.</td>
                    <td>Gdy nie wiesz, ile iteracji bÄ™dzie â€” warunek decyduje o zakoÅ„czeniu.</td>
                </tr>

                <tr>
                    <td>Iterowanie po elementach</td>
                    <td>Idealna do list, stringÃ³w oraz range.</td>
                    <td>Nie iteruje automatycznie â€” programista kontroluje licznik.</td>
                </tr>

                <tr>
                    <td>Ryzyko pÄ™tli nieskoÅ„czonej</td>
                    <td>MaÅ‚e â€” koÅ„czy gdy koÅ„czy siÄ™ sekwencja.</td>
                    <td>WiÄ™ksze â€” Å‚atwo zapomnieÄ‡ o zwiÄ™kszeniu licznika.</td>
                </tr>

                <tr>
                    <td>CzytelnoÅ›Ä‡</td>
                    <td>Bardzo czytelna i intuicyjna.</td>
                    <td>MoÅ¼e byÄ‡ mniej czytelna dla poczÄ…tkujÄ…cych.</td>
                </tr>

                <tr>
                    <td>PrzykÅ‚ad</td>
                    <td><pre>for i in range(3):
    print(i)</pre></td>
                    <td><pre>i = 0
while i < 3:
    print(i)
    i += 1</pre></td>
                </tr>
            </tbody>
        </table>
    </div>

</div>

<!-- ğŸ‘ DLA KINESTETYKA -->
<div data-learning="3">

    <h3 class="course-section-title mt-4">ğŸ‘ Sekcja dla kinestetyka</h3>

    <!-- WYJAÅšNIENIE DZIAÅANIA WHILE -->
    <div class="course-practice-block mt-4">
        <p><strong>ğŸ”„ Jak dziaÅ‚a pÄ™tla while?</strong></p>

        <pre style="background:#013642; color:#e0f7ff; padding:12px; border-radius:10px;">
i = 0
while i &lt; 5:
    print(i)
    i = i + 1
        </pre>

        <button class="btn btn-warning" onclick="runWhileDemo()">
            Uruchom krok po kroku
        </button>
    </div>
    <div class="course-fact">
        <p>Na poczÄ…tek zwykle inicjujemy zmiennÄ…, ktÃ³ra posÅ‚uÅ¼y nam do sformuÅ‚owania watunku stopu
        pÄ™tli while. Jej wartoÅ›Ä‡ nastÄ™pnie inkrementujemy, bÄ…dÅº dekrementujemy
        wewnÄ…trz pÄ™tli, aby warunek w poÅ¼Ä…danym momencie staÅ‚ siÄ™ faÅ‚szywy, a pÄ™tla dobiegÅ‚a koÅ„ca.
        Inaczej program mÃ³gÅ‚by wpaÅ›Ä‡ w nieskoÅ„czonÄ… pÄ™tlÄ™.</p>
    </div>

    <!-- WYJAÅšNIENIE DZIAÅANIA FOR -->
    <div class="course-practice-block mt-4">
        <p><strong>ğŸ” Jak dziaÅ‚a pÄ™tla for?</strong></p>

        <pre style="background:#013642; color:#e0f7ff; padding:12px; border-radius:10px;">
for i in range(3):
    print(i)
        </pre>

        <button class="btn btn-primary" onclick="runForDemo()">
            Uruchom krok po kroku
        </button>
    </div>
    <div class="course-fact">
        <p>Iterujemy, czyli przechodzimy po kolejnych elementach kolekcji czy teÅ¼ sekwencji
        elementÃ³w, co determinuje iloÅ›Ä‡ obiegÃ³w pÄ™tli for.</p>
    </div>

    <!-- Zadanie 1 â€“ sprawdzenie parzystoÅ›ci -->
    <div class="course-practice-block mt-4">
        <p><strong>2. Wpisz liczbÄ™, program sprawdzi czy jest parzysta:</strong></p>

        <input class="practice-input" id="numCheck3" placeholder="np. 12">
        <button class="btn btn-success" onclick="
            let n = Number(document.getElementById('numCheck3').value);
            if (isNaN(n)) { openTypesModal('âš ï¸ Wpisz liczbÄ™!'); return; }
            if (n % 2 === 0) openTypesModal('âœ”ï¸ Liczba parzysta');
            else openTypesModal('â— Liczba nieparzysta');
        ">SprawdÅº</button>
    </div>

    <!-- Zadanie 2 â€“ wynik pÄ™tli for -->
    <div class="course-practice-block mt-4">
        <p><strong>3. Jaki bÄ™dzie wynik?</strong></p>

<pre style="background:#002b36; color:#eee; padding:10px; border-radius:8px;">
for i in range(3):
    print(i)
</pre>

        <select class="practice-input" id="forAns">
            <option value="">-- wybierz --</option>
            <option value="ok">0 1 2</option>
            <option value="wrong1">1 2 3</option>
            <option value="wrong2">0 2 4</option>
        </select>

        <button class="btn btn-info" onclick="
            let a = document.getElementById('forAns').value;
            if (!a) { openTypesModal('âš ï¸ Wybierz odpowiedÅº!'); return; }
            if (a === 'ok') openTypesModal('ğŸ‰ Brawo! Wynik to: 0 1 2');
            else openTypesModal('âŒ Niepoprawnie â€” sprÃ³buj jeszcze raz.');
        ">SprawdÅº</button>
    </div>

</div>


<!-- ====================================================== -->
<!-- QUIZ KOÅƒCOWY -->
<!-- ====================================================== -->
<div data-learning="0">

    <h3 class="course-section-title mt-5">ğŸ“ Quiz â€“ sprawdÅº siÄ™!</h3>

    <div class="course-quiz-block mt-3">
        <p>1. KtÃ³ra pÄ™tla dziaÅ‚a dopÃ³ki warunek jest speÅ‚niony?</p>
        <div class="course-quiz-option" data-correct="true">while</div>
        <div class="course-quiz-option" data-correct="false">for</div>
        <div class="course-quiz-feedback"></div>
    </div>

    <div class="course-quiz-block mt-3">
        <p>2. W ktÃ³rej pÄ™tli iterujesz po elementach sekwencji?</p>
        <div class="course-quiz-option" data-correct="true">for</div>
        <div class="course-quiz-option" data-correct="false">while</div>
        <div class="course-quiz-feedback"></div>
    </div>

    <div class="course-quiz-block mt-3">
        <p>3. Co zwrÃ³ci range(4)?</p>
        <div class="course-quiz-option" data-correct="true">0,1,2,3</div>
        <div class="course-quiz-option" data-correct="false">1,2,3,4</div>
        <div class="course-quiz-option" data-correct="false">0,2,4,6</div>
        <div class="course-quiz-feedback"></div>
    </div>

</div>


<!-- ====================================================== -->
<!-- MODAL -->
<!-- ====================================================== -->
<div id="typesBackdrop" class="type-modal-backdrop" style="display:none;"></div>
<div id="typesModal" class="type-modal" style="display:none;">
    <span class="close-type-modal">&times;</span>
    <pre id="typesModalText"></pre>
</div>

<style>
.type-modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 550px;
    max-width: 90%;
    background: rgba(20, 55, 75, 0.95);
    padding: 25px;
    border-radius: 14px;
    box-shadow: 0 0 35px rgba(0, 200, 255, 0.35);
    color: #fff;
    z-index: 999999;
}
.type-modal-backdrop {
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:rgba(0,0,0,0.55);
    backdrop-filter:blur(3px);
    z-index:999998;
}
</style>

<script>
function openTypesModal(text) {
    document.getElementById("typesModalText").textContent = text;
    document.getElementById("typesBackdrop").style.display = "block";
    document.getElementById("typesModal").style.display = "block";
}
function closeTypesModal() {
    document.getElementById("typesBackdrop").style.display = "none";
    document.getElementById("typesModal").style.display = "none";
}
document.addEventListener("DOMContentLoaded", () => {
    let closeBtn = document.querySelector(".close-type-modal");
    if (closeBtn) closeBtn.addEventListener("click", closeTypesModal);

    let backdrop = document.getElementById("typesBackdrop");
    if (backdrop) backdrop.addEventListener("click", closeTypesModal);
});
</script>

<script>
function runWhileDemo() {
    let i = 0, out = "";
    let interval = setInterval(() => {
        out += "â¡ï¸ i = " + i + "\n";
        i++;
        if (i > 4) {
            out += "\nâœ”ï¸ Koniec pÄ™tli (i >= 5)";
            clearInterval(interval);
        }
        openTypesModal(out);
    }, 400);
}

function runForDemo() {
    let i = 0, out = "";
    let interval = setInterval(() => {
        if (i >= 3) {
            out += "\nâœ”ï¸ Koniec pÄ™tli range(3)";
            clearInterval(interval);
            openTypesModal(out);
            return;
        }
        out += "â¡ï¸ i = " + i + "\n";
        i++;
        openTypesModal(out);
    }, 400);
}
</script>

            ]]></column>

        </insert>

    </changeSet>

</databaseChangeLog>
